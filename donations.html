<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rabbi's Garden - Support Our Mission</title>
  <meta name="description" content="Support Rabbi's Garden in spreading biblical teachings and community development through your donations">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;900&family=Poppins:wght@400;600&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <script src="https://js.stripe.com/v3/"></script>
  <script src="https://www.paypal.com/sdk/js?client-id=YOUR_LIVE_PAYPAL_CLIENT_ID&currency=USD"></script>
  <style>
    /* Global Styles */
    :root {
      --primary-green: #1e8449;
      --dark-green: #145a32;
      --light-green: #58d68d;
      --gold-accent: #f1c40f;
      --pure-white: #ffffff;
      --off-white: #f8f9fa;
      --dark-bg: #1a1a1a;
      --text-dark: #333333;
      --transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.1);
      --beige-bg: #f8f5f0;
      --earth-brown: #5c4d3c;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 0;
      color: var(--text-dark);
      line-height: 1.6;
      background-color: var(--pure-white);
      scroll-behavior: smooth;
      overflow-x: hidden;
      font-size: 0.95rem;
    }

    h1, h2, h3, h4, h5, h6 {
      font-family: 'Montserrat', sans-serif;
      color: var(--light-green);
      font-weight: 700;
      letter-spacing: -0.5px;
    }

    a {
      text-decoration: none;
      color: var(--primary-green);
      transition: var(--transition);
    }

    a:hover {
      color: var(--light-green);
    }

    .container {
      width: 100%;
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 15px;
    }

    section {
      padding: 60px 0;
      position: relative;
    }

    .btn {
      display: inline-block;
      background-color: var(--primary-green);
      color: white;
      padding: 12px 28px;
      border: none;
      border-radius: 50px;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: 0 3px 12px rgba(30, 132, 73, 0.3);
      position: relative;
      overflow: hidden;
    }

    .btn:hover {
      background-color: var(--light-green);
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(88, 214, 141, 0.4);
    }

    .btn:active {
      transform: translateY(1px);
    }

    .btn::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transform: translateX(-100%);
      transition: 0.5s;
    }

    .btn:hover::after {
      transform: translateX(100%);
    }

    /* Navigation */
    nav {
      background-color: var(--pure-white);
      box-shadow: 0 3px 15px rgba(0,0,0,0.08);
      position: sticky;
      top: 0;
      z-index: 1000;
      transition: var(--transition);
    }

    .nav-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.8rem 1.5rem;
    }

    .logo {
      font-family: 'Montserrat', sans-serif;
      font-weight: 900;
      font-size: 1.4rem;
      color: var(--primary-green);
      text-decoration: none;
      display: flex;
      align-items: center;
      transition: var(--transition);
    }

    .logo:hover {
      transform: scale(1.02);
    }

    .logo-img {
      height: 40px;
      margin-right: 10px;
    }

    .nav-links {
      display: flex;
      list-style: none;
      margin: 0;
      padding: 0;
    }

    .nav-links li {
      margin-left: 1.8rem;
    }

    .nav-links a {
      text-decoration: none;
      color: var(--text-dark);
      font-weight: 600;
      transition: var(--transition);
      position: relative;
      padding: 4px 0;
      font-size: 0.95rem;
    }

    .nav-links a.active {
      color: var(--primary-green);
    }

    .nav-links a:hover {
      color: var(--primary-green);
    }

    .nav-links a:after {
      content: '';
      position: absolute;
      width: 0;
      height: 2px;
      bottom: 0;
      left: 0;
      background-color: var(--primary-green);
      transition: var(--transition);
      border-radius: 2px;
    }

    .nav-links a:hover:after,
    .nav-links a.active:after {
      width: 100%;
    }

    /* Hamburger menu for mobile */
    .hamburger {
      display: none;
      cursor: pointer;
      font-size: 1.5rem;
      color: var(--primary-green);
      transition: var(--transition);
    }

    .hamburger:hover {
      transform: rotate(90deg);
    }

    /* Header Section */
    header {
      background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), 
                  url('https://i.pinimg.com/736x/ab/04/f7/ab04f71445a1b9a2df055a02b9933567.jpg');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      height: 70vh;
      min-height: 600px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      color: white;
      position: relative;
      overflow: hidden;
    }

    .header-content {
      max-width: 700px;
      padding: 0 20px;
      animation: fadeInUp 1s ease-out;
      z-index: 2;
    }

    header h1 {
      font-size: clamp(2rem, 5vw, 3rem);
      margin: 0 0 20px;
      color: white;
      text-shadow: 0 2px 8px rgba(0,0,0,0.5);
      line-height: 1.2;
      position: relative;
      display: inline-block;
    }

    header h1::after {
      content: '';
      position: absolute;
      bottom: -12px;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 3px;
      background: var(--light-green);
      border-radius: 2px;
    }

    header p {
      font-size: clamp(0.9rem, 2vw, 1.1rem);
      margin: 30px 0;
      color: rgba(255,255,255,0.9);
      font-weight: 300;
      line-height: 1.5;
    }

    /* Section Titles */
    .section-title {
      position: relative;
      display: inline-block;
      margin-bottom: 30px;
      color: var(--primary-green);
      font-size: clamp(1.6rem, 4vw, 2.2rem);
      text-align: center;
      width: 100%;
    }

    .section-title::after {
      content: '';
      position: absolute;
      bottom: -12px;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 3px;
      background: var(--light-green);
      border-radius: 2px;
    }

    /* Reasons Section */
    .reasons {
      background-color: var(--off-white);
      text-align: center;
    }

    .reasons-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 30px;
      margin-top: 30px;
    }

    .reason-card {
      background-color: var(--pure-white);
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.05);
      transition: var(--transition);
      overflow: hidden;
      position: relative;
      text-align: left;
    }

    .reason-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: var(--light-green);
      transform: scaleX(0);
      transform-origin: left;
      transition: var(--transition);
    }

    .reason-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.1);
    }

    .reason-card:hover::before {
      transform: scaleX(1);
    }

    .reason-img {
      height: 180px;
      overflow: hidden;
      border-radius: 8px;
      margin-bottom: 20px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .reason-img img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: var(--transition);
    }

    .reason-card:hover .reason-img img {
      transform: scale(1.03);
    }

    .reason-content h3 {
      font-size: 1.2rem;
      margin-bottom: 12px;
      color: var(--primary-green);
    }

    .reason-content p {
      font-size: 0.9rem;
      color: #666;
      line-height: 1.6;
    }

    /* Spacing between sections */
    .section-spacer {
      height: 40px;
      width: 100%;
    }

    /* Donations Section */
    .donations {
      background-color: var(--pure-white);
      text-align: center;
    }

    .donations .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 30px;
      margin-bottom: 40px;
    }

    .donations .card {
      background-color: var(--pure-white);
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.05);
      transition: var(--transition);
      overflow: hidden;
      position: relative;
      text-align: left;
      border-top: 4px solid var(--primary-green);
    }

    .donations .card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.1);
    }

    .donations .card h3 {
      font-size: 1.2rem;
      margin-bottom: 15px;
      color: var(--primary-green);
    }

    .donations .card .benefits {
      list-style: none;
      padding: 0;
      margin-bottom: 20px;
    }

    .donations .card .benefits li {
      margin-bottom: 0.8rem;
      position: relative;
      padding-left: 1.5rem;
      font-size: 0.85rem;
      color: #666;
      line-height: 1.6;
    }

    .donations .card .benefits li:before {
      content: '\f00c';
      font-family: 'Font Awesome 6 Free';
      font-weight: 900;
      position: absolute;
      left: 0;
      color: var(--light-green);
      font-size: 0.9rem;
    }

    .donations .card .amount {
      font-size: 1.8rem;
      font-weight: bold;
      color: var(--primary-green);
      margin: 1.2rem 0;
      text-align: center;
    }

    /* Refined Custom Donation Section */
    .donation-section {
      display: flex;
      gap: 25px;
      margin-top: 40px;
      text-align: left;
    }

    .custom-donation {
      background-color: var(--pure-white);
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.05);
      flex: 1;
      border-top: 3px solid var(--light-green);
      transition: var(--transition);
      max-width: 600px;
      margin: 0 auto;
    }

    .custom-donation:hover {
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.1);
    }

    .custom-donation h3 {
      color: var(--primary-green);
      margin-bottom: 15px;
      font-size: 1.2rem;
      text-align: center;
    }

    .donation-amounts {
      display: flex;
      justify-content: center;
      gap: 8px;
      margin-bottom: 15px;
      flex-wrap: wrap;
    }

    .amount-option {
      padding: 8px 12px;
      background-color: var(--off-white);
      border-radius: 6px;
      cursor: pointer;
      transition: var(--transition);
      font-weight: 600;
      color: var(--text-dark);
      border: 1px solid #ddd;
      font-size: 0.9rem;
    }

    .amount-option:hover {
      background-color: #e9ecef;
    }

    .amount-option.selected {
      background-color: var(--primary-green);
      color: white;
      border-color: var(--primary-green);
    }

    .custom-amount {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
      position: relative;
    }

    .custom-amount span {
      position: absolute;
      left: 12px;
      font-weight: 600;
      color: var(--text-dark);
      font-size: 0.9rem;
    }

    .custom-amount input {
      width: 100%;
      padding: 10px 12px 10px 30px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 0.9rem;
      transition: var(--transition);
    }

    .custom-amount input:focus {
      outline: none;
      border-color: var(--primary-green);
      box-shadow: 0 0 0 2px rgba(30, 132, 73, 0.2);
    }

    .donor-info {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin-bottom: 15px;
    }

    .form-group {
      margin-bottom: 12px;
    }

    .form-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: 500;
      color: var(--text-dark);
      font-size: 0.85rem;
    }

    .form-group input,
    .form-group select {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 0.85rem;
      transition: var(--transition);
    }

    .form-group input:focus,
    .form-group select:focus {
      outline: none;
      border-color: var(--primary-green);
      box-shadow: 0 0 0 2px rgba(30, 132, 73, 0.2);
    }

    .donation-message {
      margin-bottom: 15px;
    }

    .donation-message label {
      display: block;
      margin-bottom: 5px;
      font-weight: 500;
      color: var(--text-dark);
      font-size: 0.85rem;
    }

    .donation-message textarea {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 0.85rem;
      min-height: 80px;
      resize: vertical;
      transition: var(--transition);
    }

    .donation-message textarea:focus {
      outline: none;
      border-color: var(--primary-green);
      box-shadow: 0 0 0 2px rgba(30, 132, 73, 0.2);
    }

    .form-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 15px;
    }

    .payment-options {
      display: flex;
      gap: 8px;
    }

    .payment-options i {
      font-size: 1.3rem;
      color: #555;
    }

    .payment-options .fa-cc-visa {
      color: #1a1f71;
    }

    .payment-options .fa-cc-mastercard {
      color: #eb001b;
    }

    .payment-options .fa-cc-amex {
      color: #016fd0;
    }

    .payment-options .fa-cc-paypal {
      color: #003087;
    }

    /* Payment Modal */
    .payment-modal {
      display: none;
      position: fixed;
      z-index: 2000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.8);
      backdrop-filter: blur(5px);
    }

    .payment-content {
      background: white;
      margin: 5% auto;
      padding: 30px;
      border-radius: 12px;
      width: 90%;
      max-width: 450px;
      box-shadow: 0 12px 30px rgba(0,0,0,0.2);
      position: relative;
      animation: modalFadeIn 0.4s ease-out;
    }

    .payment-content h3 {
      color: var(--primary-green);
      margin-bottom: 15px;
      text-align: center;
      font-size: 1.4rem;
    }

    .payment-methods {
      margin: 15px 0;
    }

    .payment-method {
      display: flex;
      align-items: center;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 5px;
      margin-bottom: 8px;
      cursor: pointer;
      transition: var(--transition);
    }

    .payment-method:hover,
    .payment-method:focus {
      border-color: var(--primary-green);
      outline: none;
    }

    .payment-method.selected {
      border-color: var(--primary-green);
      background-color: rgba(30, 132, 73, 0.1);
    }

    .payment-method i {
      font-size: 1.6em;
      margin-right: 12px;
    }

    .payment-method .method-info {
      flex-grow: 1;
    }

    .payment-method .method-info h4 {
      margin-bottom: 4px;
      font-size: 1rem;
    }

    .payment-method .method-info p {
      font-size: 0.8em;
      color: #666;
    }

    .bank-details {
      margin-top: 15px;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 5px;
      background-color: #f9f9f9;
      display: none;
      font-size: 0.85rem;
    }

    .bank-details h4 {
      margin-bottom: 8px;
      font-size: 1rem;
    }

    .bank-details p {
      margin-bottom: 6px;
    }

    .bank-details .copy-btn {
      background-color: var(--primary-green);
      color: white;
      border: none;
      padding: 4px 8px;
      border-radius: 3px;
      cursor: pointer;
      font-size: 0.75rem;
      margin-left: 4px;
      transition: var(--transition);
    }

    .bank-details .copy-btn:hover {
      background-color: var(--dark-green);
    }

    /* Stripe Elements */
    .StripeElement {
      box-sizing: border-box;
      height: 38px;
      padding: 8px 12px;
      border: 1px solid #ddd;
      border-radius: 5px;
      background-color: white;
      transition: var(--transition);
    }

    .StripeElement--focus {
      border-color: var(--primary-green);
      box-shadow: 0 0 0 1px var(--primary-green);
    }

    .StripeElement--invalid {
      border-color: #dc3545;
    }

    .StripeElement--webkit-autofill {
      background-color: #fefde5 !important;
    }

    #card-errors {
      color: #dc3545;
      margin: 8px 0;
      font-size: 0.8em;
    }

    #paypal-button-container {
      display: none;
      margin: 15px 0;
    }

    .modal-buttons {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin-top: 15px;
    }

    /* Impact Section */
    .impact {
      background-color: var(--pure-white);
      text-align: center;
      padding-bottom: 80px; /* Added more space below this section */
    }

    .impact-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 30px;
      margin-top: 30px;
    }

    .impact-card {
      background-color: var(--pure-white);
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.05);
      transition: var(--transition);
      border-top: 4px solid var(--light-green);
    }

    .impact-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.1);
    }

    .impact-card h3 {
      color: var(--primary-green);
      margin-bottom: 12px;
      font-size: 1.2rem;
    }

    .impact-card p {
      color: #666;
      line-height: 1.6;
      font-size: 0.9rem;
    }

    /* Elegant Testimonial Section with Coverflow Effect */
    .testimonials {
      background: linear-gradient(rgba(248, 245, 240, 0.9), rgba(248, 245, 240, 0.9)), 
                  url('https://images.unsplash.com/photo-1490750967868-88aa4486c946?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80') no-repeat center center;
      background-size: cover;
      text-align: center;
      padding: 80px 0; /* Added more padding */
      overflow: hidden;
      position: relative;
      background-attachment: fixed; /* Makes background cover entire section */
    }

    .testimonial-container {
      position: relative;
      height: 300px;
      perspective: 1000px;
      margin: 30px auto 0;
      max-width: 800px;
    }

    .testimonial-track {
      position: absolute;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transition: transform 1s cubic-bezier(0.165, 0.84, 0.44, 1);
    }

    .testimonial-slide {
      position: absolute;
      width: 60%;
      height: 100%;
      left: 20%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 30px;
      background-color: var(--beige-bg);
      border-radius: 8px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      transition: all 0.8s ease;
      transform-style: preserve-3d;
      backface-visibility: hidden;
    }

    .testimonial-slide.active {
      transform: translateZ(0) scale(1);
      opacity: 1;
      z-index: 10;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }

    .testimonial-slide.prev {
      transform: translateX(-60%) scale(0.9) rotateY(10deg);
      opacity: 0.8;
      z-index: 5;
    }

    .testimonial-slide.next {
      transform: translateX(60%) scale(0.9) rotateY(-10deg);
      opacity: 0.8;
      z-index: 5;
    }

    .testimonial-slide.far-prev {
      transform: translateX(-90%) scale(0.8) rotateY(15deg);
      opacity: 0.6;
      z-index: 1;
    }

    .testimonial-slide.far-next {
      transform: translateX(90%) scale(0.8) rotateY(-15deg);
      opacity: 0.6;
      z-index: 1;
    }

    .testimonial-slide.hidden {
      display: none;
    }

    .testimonial-text {
      font-style: italic;
      margin-bottom: 1.2rem;
      color: var(--earth-brown);
      line-height: 1.6;
      font-size: 0.95rem;
      max-width: 500px;
      text-align: center;
      position: relative;
      font-family: 'Playfair Display', serif;
    }

    .testimonial-text:before,
    .testimonial-text:after {
      content: '"';
      font-size: 1.8rem;
      color: var(--dark-green);
      opacity: 0.3;
      position: absolute;
    }

    .testimonial-text:before {
      top: -15px;
      left: -10px;
    }

    .testimonial-text:after {
      bottom: -25px;
      right: -10px;
    }

    .testimonial-author {
      font-weight: 600;
      color: var(--dark-green);
      font-size: 0.9rem;
      margin-top: 1rem;
      font-family: 'Poppins', sans-serif;
    }

    .testimonial-nav {
      display: flex;
      justify-content: center;
      margin-top: 20px;
      gap: 8px;
    }

    .testimonial-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background-color: rgba(92, 77, 60, 0.3);
      cursor: pointer;
      transition: var(--transition);
    }

    .testimonial-dot.active {
      background-color: var(--dark-green);
      transform: scale(1.2);
    }

    /* Scroll to Top Button */
    .scroll-to-top {
      position: fixed;
      bottom: 25px;
      right: 25px;
      width: 42px;
      height: 42px;
      background-color: var(--primary-green);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      cursor: pointer;
      z-index: 999;
      opacity: 0;
      visibility: hidden;
      transition: var(--transition);
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    .scroll-to-top.active {
      opacity: 1;
      visibility: visible;
    }

    .scroll-to-top:hover {
      background-color: var(--light-green);
      transform: translateY(-3px);
    }

    /* Footer */
    footer {
      background-color: var(--dark-bg);
      color: white;
      padding: 60px 0 25px;
    }

    .footer-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 35px;
      margin-bottom: 40px;
    }

    .footer-logo-container {
      display: flex;
      align-items: center;
      margin-bottom: 1.2rem;
    }

    .footer-logo-img {
      height: 35px;
      margin-right: 10px;
    }

    .footer-logo-text {
      font-family: 'Montserrat', sans-serif;
      font-weight: 900;
      font-size: 1.5rem;
      color: var(--pure-white);
    }

    .footer-about p {
      margin-bottom: 1.2rem;
      color: #aaa;
      line-height: 1.6;
      font-size: 0.9rem;
    }

    .footer-links h3, .footer-social h3 {
      color: var(--pure-white);
      margin-bottom: 1.5rem;
      font-size: 1.1rem;
      position: relative;
      padding-bottom: 8px;
    }

    .footer-links h3:after, .footer-social h3:after {
      content: '';
      position: absolute;
      left: 0;
      bottom: 0;
      width: 40px;
      height: 2px;
      background-color: var(--gold-accent);
    }

    .footer-links ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .footer-links li {
      margin-bottom: 0.8rem;
    }

    .footer-links a {
      color: #aaa;
      text-decoration: none;
      transition: var(--transition);
      display: inline-block;
      font-size: 0.9rem;
    }

    .footer-links a:hover {
      color: var(--light-green);
      transform: translateX(4px);
    }

    .social-icons {
      display: flex;
      gap: 1rem;
    }

    .social-icons a {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 38px;
      height: 38px;
      background-color: transparent;
      border-radius: 50%;
      color: var(--light-green);
      border: 2px solid var(--light-green);
      transition: var(--transition);
      font-size: 1rem;
    }

    .social-icons a:hover {
      background-color: var(--light-green);
      color: var(--dark-bg);
      transform: translateY(-3px) scale(1.08);
    }

    .footer-bottom {
      text-align: center;
      padding-top: 25px;
      border-top: 1px solid #333;
      color: #777;
      font-size: 0.85rem;
    }

    .footer-bottom a {
      color: var(--light-green);
      font-weight: 600;
    }

    /* Success Modal */
    .success-modal {
      position: fixed;
      z-index: 2000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.8);
      backdrop-filter: blur(5px);
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .success-content {
      background: white;
      padding: 30px;
      border-radius: 12px;
      max-width: 450px;
      text-align: center;
      position: relative;
      animation: modalFadeIn 0.4s ease-out;
    }

    .success-content h3 {
      color: var(--primary-green);
      margin-bottom: 15px;
      font-size: 1.4rem;
    }

    .success-content p {
      white-space: pre-line;
      margin-bottom: 15px;
      text-align: left;
      line-height: 1.6;
      font-size: 0.9rem;
    }

    .success-content .success-icon {
      color: var(--primary-green);
      font-size: 3rem;
      margin-bottom: 15px;
    }

    /* Error Modal */
    .error-modal {
      position: fixed;
      z-index: 2000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.8);
      backdrop-filter: blur(5px);
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .error-content {
      background: white;
      padding: 30px;
      border-radius: 12px;
      max-width: 450px;
      text-align: center;
      position: relative;
      animation: modalFadeIn 0.4s ease-out;
    }

    .error-content h3 {
      color: #dc3545;
      margin-bottom: 15px;
      font-size: 1.4rem;
    }

    .error-content p {
      white-space: pre-line;
      margin-bottom: 15px;
      text-align: left;
      line-height: 1.6;
      font-size: 0.9rem;
    }

    .error-content .error-icon {
      color: #dc3545;
      font-size: 3rem;
      margin-bottom: 15px;
    }

    /* Animations */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(40px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes modalFadeIn {
      from {
        opacity: 0;
        transform: translateY(-40px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Validation */
    .validation-error {
      color: #dc3545;
      margin: 8px 0;
      text-align: center;
      font-weight: 500;
      font-size: 0.9rem;
    }

    .error-message {
      color: #dc3545;
      font-size: 0.75rem;
      margin-top: 4px;
    }
    .input-error {
      border-color: #dc3545 !important;
    }
    .loading-spinner {
      display: inline-block;
      width: 18px;
      height: 18px;
      border: 2px solid rgba(255,255,255,.3);
      border-radius: 50%;
      border-top-color: white;
      animation: spin 1s ease-in-out infinite;
      margin-right: 8px;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Responsive Design */
    @media (max-width: 992px) {
      .donation-section {
        flex-direction: column;
      }
      
      .section-title::after {
        width: 50px;
        height: 3px;
        bottom: -10px;
      }

      .donor-info {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 768px) {
      .nav-container {
        padding: 0.8rem;
      }

      .nav-links {
        display: none;
        position: absolute;
        top: 70px;
        left: 0;
        width: 100%;
        background-color: var(--pure-white);
        flex-direction: column;
        padding: 1.2rem 0;
        box-shadow: 0 8px 15px rgba(0,0,0,0.1);
      }

      .nav-links.show {
        display: flex;
      }

      .nav-links li {
        margin: 0;
        text-align: center;
        padding: 0.7rem 0;
      }

      .hamburger {
        display: block;
      }

      .btn {
        padding: 10px 25px;
        font-size: 0.9rem;
      }
      
      section {
        padding: 50px 0;
      }
      
      .scroll-to-top {
        width: 38px;
        height: 38px;
        font-size: 16px;
        bottom: 20px;
        right: 20px;
      }
      
      header {
        min-height: 500px;
      }
      
      .form-footer {
        flex-direction: column;
        gap: 15px;
      }
      
      .payment-options {
        order: -1;
        justify-content: center;
      }
      
      .modal-buttons {
        flex-direction: column;
      }
      
      .modal-buttons .btn {
        width: 100%;
      }
      
      .testimonial-container {
        height: 280px;
      }
      
      .testimonial-slide {
        padding: 20px;
        width: 70%;
        left: 15%;
      }

      .testimonial-slide.prev {
        transform: translateX(-80%) scale(0.9) rotateY(10deg);
      }

      .testimonial-slide.next {
        transform: translateX(80%) scale(0.9) rotateY(-10deg);
      }
    }

    @media (max-width: 576px) {
      .nav-container {
        padding: 0.7rem;
      }
      
      .logo {
        font-size: 1.3rem;
      }
      
      .logo-img {
        height: 35px;
        margin-right: 8px;
      }
      
      .footer-container {
        grid-template-columns: 1fr;
        gap: 25px;
      }
      
      .reason-card, .donations .card, .impact-card {
        padding: 20px;
      }
      
      .header-content {
        padding: 0 15px;
      }
      
      header h1::after {
        width: 40px;
        height: 2px;
        bottom: -8px;
      }
      
      .footer-logo-img {
        height: 30px;
      }
      
      .footer-logo-text {
        font-size: 1.3rem;
      }
      
      .donation-amounts {
        justify-content: space-between;
      }
      
      .donation-amounts .amount-option {
        flex: 1;
        text-align: center;
      }
      
      .testimonial-container {
        height: 320px;
      }

      .testimonial-slide {
        width: 80%;
        left: 10%;
        padding: 15px;
      }

      .testimonial-slide.prev {
        transform: translateX(-90%) scale(0.8) rotateY(15deg);
      }

      .testimonial-slide.next {
        transform: translateX(90%) scale(0.8) rotateY(-15deg);
      }
    }
    
    @media (max-width: 400px) {
      .reasons-grid, .donations .grid, .impact-grid {
        grid-template-columns: 1fr;
      }
      
      .btn {
        padding: 8px 20px;
        font-size: 0.85rem;
      }
      
      .logo-img {
        height: 30px;
      }
      
      .testimonial-container {
        height: 350px;
      }

      .testimonial-slide {
        width: 90%;
        left: 5%;
      }
    }
  </style>
</head>

<body>
  <!-- Navigation -->
  <nav>
    <div class="nav-container container">
      <a href="index.html" class="logo">
        <img src="Photos/logo.png.png" alt="Rabbi's Garden" class="logo-img">
        <span>Rabbi's Garden</span>
      </a>
      <div class="hamburger" id="hamburger">☰</div>
      <ul class="nav-links" id="nav-menu">
        <li><a href="index.html">Home</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="donations.html" class="active">Donations</a></li>
        <li><a href="sermons.html">Sermons</a></li>
        <li><a href="shop.html">Shop</a></li>
        <li><a href="contacts.html">Contacts</a></li>
        <li><a href="faq.html">FAQ</a></li>
      </ul>
    </div>
  </nav>

  <!-- Header Section -->
  <header>
    <div class="header-content">
      <h1>Support Our Mission</h1>
      <p>At Rabbi's Garden, we are dedicated to spreading the life-changing message of the Bible to individuals around the world. Our mission is to make the teachings of Christ accessible to all—whether through translations, community outreach, or educational programs.</p>
      <a href="#custom-donation" class="btn">Donate Now</a>
    </div>
  </header>

  <!-- Spacer between header and Why Donate section -->
  <div class="section-spacer"></div>

  <!-- Main Content -->
  <main id="main-content">
    <!-- Why Donate Section -->
    <section class="reasons container" id="why-donate">
      <h2 class="section-title">Why Your Donation Matters</h2>
      <div class="reasons-grid">
        <div class="reason-card">
          <div class="reason-img">
            <img src="Photos/1000278048.jpg" alt="Rabbi's Garden">
          </div>
          <div class="reason-content">
            <h3>Reaching the Unreached</h3>
            <p>There are still millions of people around Uganda who have never heard the message of Jesus Christ. Your donation helps us take the Bible to the farthest corners of the earth, reaching individuals and communities who are spiritually hungry and eager to learn about Christ's love.</p>
          </div>
        </div>
        
        <div class="reason-card">
          <div class="reason-img">
           <img src="Photos/20250524_140709.jpg" alt="Rabbi's Garden">
          </div>
          <div class="reason-content">
            <h3>Educational Outreach</h3>
            <p>Education is key to spiritual development. We provide resources such as Bible courses, study guides, and training for pastors and leaders, equipping them with the knowledge and tools to effectively share God's Word with others. With your help, we can continue to provide these resources to those who are leading others in faith.</p>
          </div>
        </div>
        
        <div class="reason-card">
          <div class="reason-img">
            <img src="Photos/20250520_170025.jpg" alt="Rabbi's Garden">
          </div>
          <div class="reason-content">
            <h3>Building Discipleship Communities</h3>
            <p>Beyond just distributing Bibles, we're committed to creating communities where believers can grow together in faith. Your gift helps fund local Bible study groups, discipleship programs, and church planting efforts that foster lasting spiritual growth. You're not just giving a Bible—you're empowering individuals to engage with it, learn from it, and live it out.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Spacer between Why Donate and Make a Difference sections -->
    <div class="section-spacer"></div>

    <!-- Donations Section -->
    <section class="donations container" id="donate">
      <h2 class="section-title">Make a Difference Today</h2>
      <p class="intro" style="text-align: center; max-width: 700px; margin: 0 auto 40px; font-size: 0.95rem;">
        Choose from one of our donation options below or specify your own amount. Every contribution helps us grow.
      </p>
      
      <div class="grid">
        <div class="card">
          <h3>Bringing the Bible to communities</h3>
          <ul class="benefits">
            <li>Allows us to provide Bibles to 10 families in a rural village, introducing them to the Word of God for the first time.</li>
            <li>Provides a month's worth of Bible study materials for a church leader, helping them teach others effectively.</li>
            <li>Sponsors a Bible study group for 25 new believers, allowing them to meet regularly for fellowship, teaching, and prayer.</li>
          </ul>
          <div class="amount">$25</div>
          <button class="btn donate-btn" data-amount="25" onclick="location.href='#custom-donation'">Donate Now</button>
        </div>
        
        <div class="card">
          <h3>Empowering Disciples and Leaders</h3>
          <ul class="benefits">
            <li>Supports a pastor's leadership training program, giving them the skills and resources to disciple hundreds of new believers.</li>
            <li>Funds a community outreach event that can lead to dozens of new believers making a commitment to Christ, impacting families and neighborhoods for generations.</li>
            <li>Provides 10 people with the opportunity to hear the Gospel, opening doors for personal salvation and eternal life.</li>
          </ul>
          <div class="amount">$75</div>
          <button class="btn donate-btn" data-amount="75" onclick="location.href='#custom-donation'">Donate Now</button>
        </div>
        
        <div class="card">
          <h3>Equipping Believers to Live Out Their Faith</h3>
          <ul class="benefits">
            <li>Provides a discipleship course for 20 people, equipping them with the practical tools they need to live out their faith and mentor others.</li>
            <li>Supports a Bible-based educational workshop for women, empowering them to teach their families the principles of the Christian faith.</li>
            <li>Provides materials for a youth outreach program that engages children and teenagers in faith-building activities and Bible lessons.</li>
            <li>Helps establish a new church in a rural area, providing worship space, resources, and support for the first few months.</li>
          </ul>
          <div class="amount">$150</div>
          <button class="btn donate-btn" data-amount="150" onclick="location.href='#custom-donation'">Donate Now</button>
        </div>
      </div>
      
      <div class="donation-section">
        <div class="custom-donation" id="custom-donation">
          <h3>Custom Donation Amount</h3>
          <form id="customDonationForm" class="donation-form">
            <div class="donation-amounts">
              <div class="amount-option" data-amount="10">$10</div>
              <div class="amount-option" data-amount="25">$25</div>
              <div class="amount-option" data-amount="50">$50</div>
              <div class="amount-option" data-amount="100">$100</div>
              <div class="amount-option" data-amount="250">$250</div>
            </div>
            
            <div class="custom-amount">
              <span>$</span>
              <input type="number" id="customAmount" placeholder="Other amount" min="1" value="50" aria-label="Enter custom donation amount">
            </div>
            
            <div class="donor-info">
              <div class="form-group">
                <label for="name">Full Name</label>
                <input type="text" id="name" required maxlength="100" aria-required="true">
              </div>
              <div class="form-group">
                <label for="email">Email Address</label>
                <input type="email" id="email" required maxlength="255" aria-required="true">
              </div>
              <div class="form-group">
                <label for="frequency">Donation Frequency</label>
                <select id="frequency" aria-label="Select donation frequency">
                  <option value="one-time">One-time donation</option>
                  <option value="monthly">Monthly donation</option>
                  <option value="quarterly">Quarterly donation</option>
                  <option value="annually">Annual donation</option>
                </select>
              </div>
            </div>
            
            <div class="donation-message">
              <label for="message">Personal Message (Optional)</label>
              <textarea id="message" placeholder="Add a personal message..." maxlength="500" aria-label="Optional personal message"></textarea>
            </div>
            
            <div class="form-footer">
              <div class="payment-options">
                <i class="fab fa-cc-visa" aria-hidden="true"></i>
                <i class="fab fa-cc-mastercard" aria-hidden="true"></i>
                <i class="fab fa-cc-amex" aria-hidden="true"></i>
                <i class="fab fa-cc-paypal" aria-hidden="true"></i>
              </div>
              <button type="submit" class="btn">Continue to Payment</button>
            </div>
          </form>
        </div>
      </div>
    </section>

    <!-- Impact Section -->
    <section class="impact container">
      <h2 class="section-title">Changing Tomorrow's Generation Today</h2>
      <div class="impact-grid">
        <div class="impact-card">
          <h3>Biblical Foundations for Youth</h3>
          <p>Your donations help us establish youth programs that teach biblical principles to the next generation. Through engaging Bible studies, mentorship programs, and leadership training, we're equipping young people to build their lives on the solid foundation of God's Word.</p>
        </div>
        <div class="impact-card">
          <h3>Transforming Communities</h3>
          <p>When children and families learn biblical values, entire communities are transformed. Your support enables us to provide Bible-based education that addresses social issues, promotes moral values, and fosters community development from a Christian perspective.</p>
        </div>
        <div class="impact-card">
          <h3>Future Christian Leaders</h3>
          <p>We're investing in tomorrow's Christian leaders today. Your contributions fund scholarships for theological education, leadership training programs, and discipleship initiatives that prepare young believers to guide others in faith and service.</p>
        </div>
      </div>
    </section>

    <!-- Spacer between Impact and Testimonials sections -->
    <div class="section-spacer"></div>

    <!-- Elegant Testimonial Section -->
    <section class="testimonials container">
      <h2 class="section-title">What Donors Say</h2>
      <div class="testimonial-container" id="testimonialContainer">
        <div class="testimonial-track" id="testimonialTrack">
          <!-- Testimonial slides will be added here by JavaScript -->
        </div>
      </div>
      <div class="testimonial-nav" id="testimonialNav">
        <!-- Navigation dots will be added here by JavaScript -->
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="footer-container">
        <div class="footer-about">
          <div class="footer-logo-container">
            <img src="Photos/logo.png.png" alt="Rabbi's Garden" class="footer-logo-img">
            <span class="footer-logo-text">Rabbi's Garden</span>
          </div>
          <p>A community-based initiative dedicated to sharing the transformative power of the Bible with the world.</p>
          <p>Join Us in Spreading the Word: Become a Part of Our Bible Community!</p>
        </div>
        
        <div class="footer-links">
          <h3>Quick Links</h3>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About Us</a></li>
            <li><a href="donations.html">Donations</a></li>
            <li><a href="sermons.html">Sermons</a></li>
            <li><a href="shop.html">Shop</a></li>
            <li><a href="contacts.html">Contacts</a></li>
            <li><a href="faq.html">FAQ</a></li>
          </ul>
        </div>
        
        <div class="footer-social">
          <h3>Connect With Us</h3>
          <div class="social-icons">
            <a href="https://www.instagram.com/rabbisgarden/?hl=en" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="https://www.tiktok.com/@rabbis.garden" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
            <a href="https://www.youtube.com/@mikewuertemburg2204" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
          </div>
          <p style="margin-top: 1.2rem; color: #aaa;">Follow our journey and see the impact of your support.</p>
        </div>
      </div>
      
      <div class="footer-bottom">
        <p>&copy; <span id="current-year"></span> Rabbi's Garden. All rights reserved. | 
          <a href="privacy.html" style="color: var(--light-green);">Privacy Policy</a> | 
          <a href="terms.html" style="color: var(--light-green);">Terms & Conditions</a>
        </p>
      </div>
    </div>
  </footer>

  <!-- Scroll to Top Button -->
  <div class="scroll-to-top" id="scrollToTop">
    <i class="fas fa-arrow-up"></i>
  </div>

  <!-- Payment Modal -->
  <div id="paymentModal" class="payment-modal">
    <div class="payment-content">
      <h3>Complete Your Donation</h3>
      <p id="donationSummary" style="text-align: center; margin-bottom: 15px; font-size: 0.95rem;">You're donating $50 to Rabbi's Garden</p>
      
      <div class="payment-methods">
        <h4 style="font-size: 1rem; margin-bottom: 12px;">Select Payment Method</h4>
        
        <div class="payment-method selected" data-method="card" tabindex="0">
          <i class="far fa-credit-card" style="color: #1a1f71;" aria-hidden="true"></i>
          <div class="method-info">
            <h4>Credit/Debit Card</h4>
            <p>Pay securely with your Visa, Mastercard, or American Express</p>
          </div>
        </div>
        
        <div class="payment-method" data-method="paypal" tabindex="0">
          <i class="fab fa-cc-paypal" style="color: #003087;" aria-hidden="true"></i>
          <div class="method-info">
            <h4>PayPal</h4>
            <p>Pay with your PayPal account or credit card</p>
          </div>
        </div>
        
        <div class="payment-method" data-method="bank" tabindex="0">
          <i class="fas fa-university" style="color: #1e8449;" aria-hidden="true"></i>
          <div class="method-info">
            <h4>Bank Transfer</h4>
            <p>Direct transfer to our bank account</p>
          </div>
        </div>
      </div>
      
      <div id="bankDetails" class="bank-details">
        <h4>Bank Transfer Details</h4>
        <p><strong>Account Name:</strong> Rabbi's Garden Foundation</p>
        <p><strong>Bank:</strong> Green Earth Bank</p>
        <p><strong>Account #:</strong> <span id="accountNumberModal">123456789</span> <button class="copy-btn" data-target="accountNumberModal">Copy</button></p>
        <p><strong>Routing #:</strong> <span id="routingNumberModal">987654321</span> <button class="copy-btn" data-target="routingNumberModal">Copy</button></p>
        <p><strong>SWIFT/BIC:</strong> <span id="swiftCodeModal">GREAUS33</span> <button class="copy-btn" data-target="swiftCodeModal">Copy</button></p>
        <p>Please include your name as reference when making the transfer.</p>
      </div>
      
      <div id="cardElementContainer" style="display: none;">
        <div class="form-group">
          <label for="cardholder-name">Cardholder Name</label>
          <input type="text" id="cardholder-name" placeholder="Name on card" required maxlength="100" aria-required="true">
        </div>
        <div id="cardElement" class="form-group">
          <!-- Stripe.js will inject the Card Element here -->
        </div>
        <div id="card-errors" role="alert"></div>
      </div>
      
      <div id="paypal-button-container" style="display: none; margin: 15px 0;"></div>
      
      <div class="modal-buttons">
        <button id="confirmPayment" class="btn" style="display: none;">Complete Donation</button>
        <button id="cancelPayment" class="btn">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Success Modal Template -->
  <div id="successModalTemplate" style="display: none;">
    <div class="success-content">
      <div class="success-icon">
        <i class="fas fa-check-circle" aria-hidden="true"></i>
      </div>
      <h3>Donation Successful!</h3>
      <p id="successMessage"></p>
      <button id="closeSuccessModal" class="btn">Close</button>
    </div>
  </div>

  <!-- Error Modal Template -->
  <div id="errorModalTemplate" style="display: none;">
    <div class="error-content">
      <div class="error-icon">
        <i class="fas fa-exclamation-circle" aria-hidden="true"></i>
      </div>
      <h3>Payment Failed</h3>
      <p id="errorMessage"></p>
      <button id="closeErrorModal" class="btn">Try Again</button>
    </div>
  </div>

  <!-- JavaScript -->
  <script>
    // Set current year in footer
    document.getElementById('current-year').textContent = new Date().getFullYear();
    
    // Navbar Scroll Effect
    window.addEventListener('scroll', () => {
      const nav = document.querySelector('nav');
      if (window.scrollY > 50) {
        nav.style.boxShadow = '0 8px 25px rgba(0, 0, 0, 0.15)';
      } else {
        nav.style.boxShadow = '0 3px 15px rgba(0,0,0,0.08)';
      }
    });
    
    // Mobile menu toggle
    document.querySelector('.hamburger').addEventListener('click', function() {
      document.getElementById('nav-menu').classList.toggle('show');
    });
    
    // Close menu when clicking on a link
    document.querySelectorAll('#nav-menu a').forEach(link => {
      link.addEventListener('click', function() {
        document.getElementById('nav-menu').classList.remove('show');
      });
    });
    
    // Scroll to Top Button
    const scrollToTopBtn = document.getElementById('scrollToTop');
    
    window.addEventListener('scroll', function() {
      if (window.pageYOffset > 300) {
        scrollToTopBtn.classList.add('active');
      } else {
        scrollToTopBtn.classList.remove('active');
      }
    });
    
    scrollToTopBtn.addEventListener('click', function() {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    });

    // Testimonial Data
    const testimonials = [
      {
        text: "Supporting Rabbi's Garden has been one of the most rewarding experiences. Seeing the impact of my donations through their regular updates makes me confident my money is being used effectively.",
        author: "Sarah Johnson, Monthly Donor"
      },
      {
        text: "The transparency and dedication of this organization is unmatched. I know exactly how my donation is being used to spread God's word in communities that need it most.",
        author: "Michael Brown, Supporter"
      },
      {
        text: "After visiting one of their community projects, I was moved to become a regular donor. The work they're doing is truly transformative.",
        author: "Grace Williams, Volunteer"
      },
      {
        text: "I've been donating to Rabbi's Garden for 3 years now, and every time I see their impact reports, I'm reminded why I continue to support their mission.",
        author: "David Thompson, Long-term Donor"
      },
      {
        text: "As a pastor, I appreciate how Rabbi's Garden equips leaders with biblical resources. My small monthly donation feels like it's multiplied in impact.",
        author: "Pastor James, Ministry Partner"
      },
      {
        text: "The children's Bible program my donation supports has changed lives in my own community. It's wonderful to see local impact from my giving.",
        author: "Martha Chen, Community Member"
      }
    ];

    // Elegant Testimonial Carousel with Coverflow Effect
    function initializeTestimonialCarousel() {
      const container = document.getElementById('testimonialContainer');
      const track = document.getElementById('testimonialTrack');
      const nav = document.getElementById('testimonialNav');
      
      // Create testimonial slides
      testimonials.forEach((testimonial, index) => {
        const slide = document.createElement('div');
        slide.className = 'testimonial-slide';
        slide.innerHTML = `
          <p class="testimonial-text">${testimonial.text}</p>
          <p class="testimonial-author">— ${testimonial.author}</p>
        `;
        slide.dataset.index = index;
        track.appendChild(slide);
        
        // Create navigation dot
        const dot = document.createElement('div');
        dot.className = 'testimonial-dot';
        dot.dataset.index = index;
        nav.appendChild(dot);
      });
      
      const slides = document.querySelectorAll('.testimonial-slide');
      const dots = document.querySelectorAll('.testimonial-dot');
      let currentIndex = 0;
      let interval;
      
      // Function to update carousel position
      function updateCarousel() {
        slides.forEach((slide, index) => {
          // Calculate position relative to current index
          let position = index - currentIndex;
          
          // Handle wrapping around for infinite loop
          if (position < -Math.floor(slides.length / 2)) {
            position += slides.length;
          } else if (position > Math.floor(slides.length / 2)) {
            position -= slides.length;
          }
          
          // Apply appropriate class based on position
          slide.classList.remove('active', 'prev', 'next', 'far-prev', 'far-next', 'hidden');
          
          if (position === 0) {
            slide.classList.add('active');
          } else if (position === -1) {
            slide.classList.add('prev');
          } else if (position === 1) {
            slide.classList.add('next');
          } else if (position === -2) {
            slide.classList.add('far-prev');
          } else if (position === 2) {
            slide.classList.add('far-next');
          } else {
            slide.classList.add('hidden');
          }
        });
        
        // Update navigation dots
        dots.forEach((dot, index) => {
          dot.classList.toggle('active', index === currentIndex);
        });
      }
      
      // Function to go to specific slide
      function goToSlide(index) {
        currentIndex = (index + slides.length) % slides.length;
        updateCarousel();
      }
      
      // Function to go to next slide
      function nextSlide() {
        goToSlide(currentIndex + 1);
      }
      
      // Function to start auto rotation
      function startAutoRotation() {
        interval = setInterval(nextSlide, 5000);
      }
      
      // Initialize carousel
      updateCarousel();
      startAutoRotation();
      
      // Add click handlers for navigation dots
      dots.forEach(dot => {
        dot.addEventListener('click', () => {
          clearInterval(interval);
          goToSlide(parseInt(dot.dataset.index));
          startAutoRotation();
        });
      });
      
      // Pause on hover
      container.addEventListener('mouseenter', () => {
        clearInterval(interval);
      });
      
      container.addEventListener('mouseleave', startAutoRotation);
      
      // Touch support for mobile
      let touchStartX = 0;
      let touchEndX = 0;
      
      container.addEventListener('touchstart', (e) => {
        touchStartX = e.changedTouches[0].screenX;
        clearInterval(interval);
      }, {passive: true});
      
      container.addEventListener('touchend', (e) => {
        touchEndX = e.changedTouches[0].screenX;
        handleSwipe();
        startAutoRotation();
      }, {passive: true});
      
      function handleSwipe() {
        const threshold = 50;
        const difference = touchStartX - touchEndX;
        
        if (difference > threshold) {
          // Swipe left - next slide
          nextSlide();
        } else if (difference < -threshold) {
          // Swipe right - previous slide
          goToSlide(currentIndex - 1);
        }
      }
    }

    // ===== ENHANCED VALIDATION =====
    function validateDonationForm() {
      let isValid = true;
      
      // Clear previous errors
      document.querySelectorAll('.error-message').forEach(el => el.remove());
      document.querySelectorAll('.input-error').forEach(el => el.classList.remove('input-error'));

      // Amount validation
      const amountInput = document.getElementById('customAmount');
      const amount = parseFloat(amountInput.value);
      if (isNaN(amount)) {
        showError(amountInput, 'Please enter a valid number');
        isValid = false;
      } else if (amount < 1) {
        showError(amountInput, 'Minimum donation is $1');
        isValid = false;
      } else if (amount > 100000) {
        showError(amountInput, 'Maximum donation is $100,000');
        isValid = false;
      }

      // Name validation
      const nameInput = document.getElementById('name');
      if (nameInput.value.trim().length < 2) {
        showError(nameInput, 'Please enter your full name');
        isValid = false;
      }

      // Email validation
      const emailInput = document.getElementById('email');
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(emailInput.value.trim())) {
        showError(emailInput, 'Please enter a valid email');
        isValid = false;
      }

      return isValid;
    }

    function showError(inputElement, message) {
      inputElement.classList.add('input-error');
      const error = document.createElement('div');
      error.className = 'error-message';
      error.textContent = message;
      inputElement.parentNode.appendChild(error);
    }

    // ===== PAYMENT PROCESSING =====
    async function processDonation(formData) {
      try {
        // Show loading state
        const submitBtn = document.querySelector('#customDonationForm button[type="submit"]');
        submitBtn.innerHTML = '<span class="loading-spinner"></span> Processing...';
        submitBtn.disabled = true;

        // Process payment (replace with your actual backend endpoint)
        const response = await fetch('https://your-backend.com/process-donation', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(formData)
        });

        if (!response.ok) throw new Error('Payment failed');
        const result = await response.json();

        // Show success (use your existing modal or this simple alert)
        alert(`Thank you for your donation! Transaction ID: ${result.transactionId}`);

      } catch (error) {
        alert(`Error: ${error.message}`);
      } finally {
        const submitBtn = document.querySelector('#customDonationForm button[type="submit"]');
        submitBtn.innerHTML = 'Continue to Payment';
        submitBtn.disabled = false;
      }
    }

    // Complete Donation Processing System
    document.addEventListener('DOMContentLoaded', function() {
      // Security configuration
      const config = {
        stripeKey: 'pk_live_YOUR_STRIPE_PUBLISHABLE_KEY',
        paypalKey: 'YOUR_LIVE_PAYPAL_CLIENT_ID',
        backendUrl: 'https://yourdomain.com/donation-processor.php',
        googleAnalyticsId: 'G-YOUR_GA_TRACKING_ID'
      };

      // State management
      const state = {
        currentDonation: {
          amount: 50,
          type: 'custom',
          frequency: 'one-time',
          paymentMethod: 'card',
          donorInfo: {
            name: '',
            email: '',
            message: ''
          }
        },
        processing: false,
        securityToken: generateSecurityToken()
      };

      // Initialize payment processors
      const stripe = Stripe(config.stripeKey);
      let elements;
      let cardElement;

      // Initialize analytics
      if (typeof gtag !== 'undefined') {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', config.googleAnalyticsId);
      }

      // DOM elements
      const dom = {
        amountOptions: document.querySelectorAll('.amount-option'),
        customAmount: document.getElementById('customAmount'),
        donationForm: document.getElementById('customDonationForm'),
        paymentModal: document.getElementById('paymentModal'),
        donationSummary: document.getElementById('donationSummary'),
        paymentMethods: document.querySelectorAll('.payment-method'),
        bankDetails: document.getElementById('bankDetails'),
        cardElementContainer: document.getElementById('cardElementContainer'),
        paypalButtonContainer: document.getElementById('paypalButtonContainer'),
        confirmPaymentBtn: document.getElementById('confirmPayment'),
        cardholderName: document.getElementById('cardholder-name'),
        nameInput: document.getElementById('name'),
        emailInput: document.getElementById('email'),
        frequencySelect: document.getElementById('frequency'),
        messageTextarea: document.getElementById('message'),
        hamburger: document.getElementById('hamburger'),
        navMenu: document.getElementById('nav-menu'),
        scrollToTop: document.getElementById('scrollToTop')
      };

      // Initialize the page
      init();

      function init() {
        // Initialize event listeners
        setupEventListeners();
        
        // Initialize back to top button
        initBackToTop();
        
        // Initialize testimonial carousel
        initializeTestimonialCarousel();
      }

      function setupEventListeners() {
        // Amount selection
        dom.amountOptions.forEach(option => {
          option.addEventListener('click', () => selectAmount(option));
          option.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
              e.preventDefault();
              selectAmount(option);
            }
          });
        });

        // Custom amount input
        dom.customAmount.addEventListener('input', updateCustomAmount);

        // Form submission
        dom.donationForm.addEventListener('submit', handleFormSubmit);

        // Payment method selection
        dom.paymentMethods.forEach(method => {
          method.addEventListener('click', () => selectPaymentMethod(method));
          method.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
              e.preventDefault();
              selectPaymentMethod(method);
            }
          });
        });

        // Confirm payment button
        dom.confirmPaymentBtn.addEventListener('click', handlePaymentConfirmation);

        // Cancel payment button
        document.getElementById('cancelPayment').addEventListener('click', hidePaymentModal);

        // Modal backdrop click
        dom.paymentModal.addEventListener('click', (e) => {
          if (e.target === dom.paymentModal) hidePaymentModal();
        });

        // Copy buttons for bank details
        document.querySelectorAll('.copy-btn').forEach(btn => {
          btn.addEventListener('click', copyToClipboard);
        });

        // Donation card buttons
        document.querySelectorAll('.donate-btn').forEach(btn => {
          btn.addEventListener('click', (e) => {
            const amount = parseFloat(e.target.getAttribute('data-amount'));
            if (!isNaN(amount)) {
              state.currentDonation.amount = amount;
              state.currentDonation.type = 'preset';
              showPaymentModal();
            }
          });
        });
      }

      function initBackToTop() {
        window.addEventListener('scroll', () => {
          if (window.pageYOffset > 300) {
            dom.scrollToTop.classList.add('active');
          } else {
            dom.scrollToTop.classList.remove('active');
          }
        });
        
        dom.scrollToTop.addEventListener('click', () => {
          window.scrollTo({
            top: 0,
            behavior: 'smooth'
          });
        });
      }

      function selectAmount(option) {
        dom.amountOptions.forEach(opt => opt.classList.remove('selected'));
        option.classList.add('selected');
        const amount = parseFloat(option.getAttribute('data-amount'));
        if (!isNaN(amount)) {
          dom.customAmount.value = amount;
          state.currentDonation.amount = amount;
        }
      }

      function updateCustomAmount() {
        dom.amountOptions.forEach(opt => opt.classList.remove('selected'));
        const amount = parseFloat(dom.customAmount.value);
        state.currentDonation.amount = isNaN(amount) ? 0 : amount;
      }

      function selectPaymentMethod(method) {
        dom.paymentMethods.forEach(m => m.classList.remove('selected'));
        method.classList.add('selected');
        const methodValue = method.getAttribute('data-method');
        
        if (['card', 'paypal', 'bank'].includes(methodValue)) {
          state.currentDonation.paymentMethod = methodValue;
          updatePaymentUI();
        }
      }

      function updatePaymentUI() {
        // Hide all containers
        dom.bankDetails.style.display = 'none';
        dom.cardElementContainer.style.display = 'none';
        dom.paypalButtonContainer.style.display = 'none';
        dom.confirmPaymentBtn.style.display = 'none';
        
        // Clear PayPal container
        dom.paypalButtonContainer.innerHTML = '';
        
        // Show relevant UI based on payment method
        switch(state.currentDonation.paymentMethod) {
          case 'bank':
            dom.bankDetails.style.display = 'block';
            dom.confirmPaymentBtn.style.display = 'block';
            dom.confirmPaymentBtn.textContent = 'I Have Completed Transfer';
            break;
            
          case 'card':
            dom.cardElementContainer.style.display = 'block';
            dom.confirmPaymentBtn.style.display = 'block';
            dom.confirmPaymentBtn.textContent = 
              state.currentDonation.frequency !== 'one-time' 
                ? `Set Up Recurring Donation` 
                : `Pay $${state.currentDonation.amount.toFixed(2)}`;
            initializeStripeElements();
            break;
            
          case 'paypal':
            renderPayPalButton();
            break;
        }
      }

      function initializeStripeElements() {
        if (!elements) {
          elements = stripe.elements();
          cardElement = elements.create('card', {
            style: {
              base: {
                fontSize: '16px',
                color: '#32325d',
                '::placeholder': {
                  color: '#aab7c4'
                }
              },
              invalid: {
                color: '#dc3545',
                iconColor: '#dc3545'
              }
            },
            hidePostalCode: true
          });
          
          cardElement.mount('#cardElement');
          
          cardElement.on('change', function(event) {
            const displayError = document.getElementById('card-errors');
            if (event.error) {
              displayError.textContent = event.error.message;
            } else {
              displayError.textContent = '';
            }
          });
        }
      }

      function renderPayPalButton() {
        dom.paypalButtonContainer.style.display = 'block';
        
        paypal.Buttons({
          createOrder: function(data, actions) {
            return actions.order.create({
              purchase_units: [{
                amount: {
                  value: state.currentDonation.amount.toFixed(2),
                  currency_code: 'USD',
                  breakdown: {
                    item_total: {
                      value: state.currentDonation.amount.toFixed(2),
                      currency_code: 'USD'
                    }
                  }
                },
                items: [{
                  name: 'Donation to Rabbi\'s Garden',
                  description: state.currentDonation.frequency !== 'one-time' ? 'Recurring donation' : 'One-time donation',
                  quantity: '1',
                  unit_amount: {
                    value: state.currentDonation.amount.toFixed(2),
                    currency_code: 'USD'
                  }
                }],
                description: 'Donation to Rabbi\'s Garden',
                payee: {
                  email_address: 'donations@rabbisgarden.org'
                }
              }],
              application_context: {
                shipping_preference: 'NO_SHIPPING',
                user_action: 'PAY_NOW'
              }
            });
          },
          onApprove: function(data, actions) {
            return actions.order.capture().then(function(details) {
              trackAnalytics('purchase', {
                transaction_id: details.id,
                value: state.currentDonation.amount,
                currency: 'USD'
              });
              
              processDonation({
                method: 'paypal',
                transactionId: details.id,
                payerEmail: details.payer.email_address,
                payerName: details.payer.name.given_name + ' ' + details.payer.name.surname
              });
            });
          },
          onError: function(err) {
            showPaymentError('There was an error processing your PayPal payment. Please try again or choose another payment method.');
          }
        }).render('#paypal-button-container');
      }

      function handleFormSubmit(e) {
        e.preventDefault();
        
        // Update state with form values
        state.currentDonation = {
          ...state.currentDonation,
          type: 'custom',
          amount: parseFloat(dom.customAmount.value) || 0,
          frequency: dom.frequencySelect.value,
          donorInfo: {
            name: sanitizeInput(dom.nameInput.value.trim()),
            email: sanitizeInput(dom.emailInput.value.trim()),
            message: sanitizeInput(dom.messageTextarea.value.trim())
          }
        };

        // Validate inputs
        if (!validateDonation()) return;

        // Track begin_checkout event
        trackAnalytics('begin_checkout', {
          value: state.currentDonation.amount,
          currency: 'USD'
        });

        showPaymentModal();
      }

      function validateDonation() {
        // Clear existing errors
        const existingError = document.querySelector('.validation-error');
        if (existingError) existingError.remove();

        // Validate amount
        if (state.currentDonation.amount <= 0 || state.currentDonation.amount > 100000) {
          showValidationError('Please enter a valid donation amount between $1 and $100,000');
          return false;
        }

        // Validate name
        if (!state.currentDonation.donorInfo.name || state.currentDonation.donorInfo.name.length < 2) {
          showValidationError('Please enter a valid name (minimum 2 characters)');
          return false;
        }

        // Validate email
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!state.currentDonation.donorInfo.email || !emailRegex.test(state.currentDonation.donorInfo.email)) {
          showValidationError('Please enter a valid email address');
          return false;
        }

        return true;
      }

      function showValidationError(message) {
        const errorElement = document.createElement('div');
        errorElement.className = 'validation-error';
        errorElement.textContent = message;
        
        dom.donationForm.insertBefore(errorElement, dom.donationForm.firstChild);
        errorElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
      }

      function showPaymentModal() {
        // Update donation summary
        const frequencyText = state.currentDonation.frequency !== 'one-time' 
          ? ` (${dom.frequencySelect.options[dom.frequencySelect.selectedIndex].text})` 
          : '';
        
        dom.donationSummary.textContent = 
          `You're donating $${state.currentDonation.amount.toFixed(2)}${frequencyText} to Rabbi's Garden`;
        
        // Show modal
        dom.paymentModal.style.display = 'block';
        document.body.style.overflow = 'hidden';
        
        // Initialize payment UI
        updatePaymentUI();
      }

      function hidePaymentModal() {
        dom.paymentModal.style.display = 'none';
        document.body.style.overflow = 'auto';
      }

      async function handlePaymentConfirmation() {
        if (state.processing) return;
        state.processing = true;
        
        try {
          dom.confirmPaymentBtn.disabled = true;
          dom.confirmPaymentBtn.textContent = 'Processing...';
          
          switch(state.currentDonation.paymentMethod) {
            case 'bank':
              await processBankTransfer();
              break;
              
            case 'card':
              await processStripePayment();
              break;
              
            default:
              throw new Error('Invalid payment method');
          }
        } catch (error) {
          console.error('Payment error:', error);
          showPaymentError(error.message || 'Payment processing failed');
        } finally {
          state.processing = false;
          dom.confirmPaymentBtn.disabled = false;
          dom.confirmPaymentBtn.textContent = 
            state.currentDonation.frequency !== 'one-time' 
              ? `Set Up Recurring Donation` 
              : `Pay $${state.currentDonation.amount.toFixed(2)}`;
        }
      }

      async function processBankTransfer() {
        const transactionId = generateTransactionId('BANK_');
        
        await processDonation({
          method: 'bank',
          transactionId: transactionId
        });
      }

      async function processStripePayment() {
        // Validate cardholder name
        const cardholderName = sanitizeInput(dom.cardholderName.value.trim());
        if (!cardholderName || cardholderName.length < 2) {
          throw new Error('Please enter a valid cardholder name');
        }

        // Create payment method
        const { paymentMethod, error } = await stripe.createPaymentMethod({
          type: 'card',
          card: cardElement,
          billing_details: {
            name: cardholderName,
            email: state.currentDonation.donorInfo.email
          }
        });

        if (error) throw error;

        // Process payment through backend
        const response = await fetch(config.backendUrl, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'X-Security-Token': state.securityToken
          },
          body: JSON.stringify({
            amount: state.currentDonation.amount,
            paymentMethod: 'stripe',
            paymentMethodId: paymentMethod.id,
            donorName: state.currentDonation.donorInfo.name,
            donorEmail: state.currentDonation.donorInfo.email,
            isRecurring: state.currentDonation.frequency !== 'one-time',
            frequency: state.currentDonation.frequency,
            message: state.currentDonation.donorInfo.message,
            verificationToken: state.securityToken
          })
        });

        const data = await response.json();
        
        if (!data.success) {
          throw new Error(data.message || 'Payment processing failed');
        }

        if (data.requiresAction) {
          const { error: confirmationError } = await stripe.confirmPayment({
            clientSecret: data.clientSecret,
            return_url: window.location.href,
            receipt_email: state.currentDonation.donorInfo.email
          });
          
          if (confirmationError) throw confirmationError;
          return;
        }

        trackAnalytics('purchase', {
          transaction_id: data.paymentIntentId,
          value: state.currentDonation.amount,
          currency: 'USD'
        });

        await processDonation({
          method: 'card',
          transactionId: data.paymentIntentId
        });
      }

      async function processDonation(paymentDetails) {
        // In a real implementation, this would communicate with your backend
        // For this example, we'll simulate a successful donation
        
        const successDetails = {
          method: paymentDetails.method,
          amount: state.currentDonation.amount,
          frequency: state.currentDonation.frequency,
          donorName: state.currentDonation.donorInfo.name,
          donorEmail: state.currentDonation.donorInfo.email,
          transactionId: paymentDetails.transactionId || generateTransactionId('DON_'),
          isRecurring: state.currentDonation.frequency !== 'one-time',
          date: new Date().toISOString()
        };

        // Hide payment modal
        hidePaymentModal();
        
        // Show success message
        showPaymentSuccess(successDetails);
        
        // Reset form if this was a custom donation
        if (state.currentDonation.type === 'custom') {
          resetDonationForm();
        }
      }

      function showPaymentSuccess(details) {
        const successModal = document.createElement('div');
        successModal.className = 'success-modal';
        
        const message = `
          Thank you for your ${details.isRecurring ? 'recurring ' : ''}donation of $${details.amount.toFixed(2)}!
          
          Payment method: ${details.method}
          Transaction ID: ${details.transactionId}
          ${details.donorName ? `Name: ${details.donorName}` : ''}
          ${details.donorEmail ? `Email: ${details.donorEmail}` : ''}
          
          A confirmation has been sent to your email.
          ${details.isRecurring ? '\n\nYour recurring donation has been set up successfully.' : ''}
        `;
        
        const template = document.getElementById('successModalTemplate').cloneNode(true);
        template.style.display = 'flex';
        template.id = '';
        template.querySelector('#successMessage').textContent = message;
        
        successModal.appendChild(template);
        document.body.appendChild(successModal);
        
        template.querySelector('#closeSuccessModal').addEventListener('click', () => {
          document.body.removeChild(successModal);
        });
      }

      function showPaymentError(message) {
        const errorModal = document.createElement('div');
        errorModal.className = 'error-modal';
        
        const template = document.getElementById('errorModalTemplate').cloneNode(true);
        template.style.display = 'flex';
        template.id = '';
        template.querySelector('#errorMessage').textContent = message;
        
        errorModal.appendChild(template);
        document.body.appendChild(errorModal);
        
        template.querySelector('#closeErrorModal').addEventListener('click', () => {
          document.body.removeChild(errorModal);
          showPaymentModal();
        });
      }

      function resetDonationForm() {
        // No amount is selected by default now
        dom.customAmount.value = '';
        dom.frequencySelect.value = 'one-time';
        dom.nameInput.value = '';
        dom.emailInput.value = '';
        dom.messageTextarea.value = '';
      }

      // Helper functions
      function generateSecurityToken() {
        return 'secure-token-' + Math.random().toString(36).substring(2, 15) + 
               Math.random().toString(36).substring(2, 15);
      }

      function generateTransactionId(prefix = '') {
        return prefix + Math.random().toString(36).substring(2, 15);
      }

      function sanitizeInput(input) {
        if (typeof input !== 'string') return input;
        return input.replace(/</g, "&lt;").replace(/>/g, "&gt;");
      }

      function copyToClipboard(e) {
        const targetId = e.target.getAttribute('data-target');
        const targetElement = document.getElementById(targetId);
        
        if (!targetElement) return;
        
        navigator.clipboard.writeText(targetElement.textContent).then(() => {
          const originalText = e.target.textContent;
          e.target.textContent = 'Copied!';
          e.target.style.backgroundColor = '#2d6a4f';
          
          setTimeout(() => {
            e.target.textContent = originalText;
            e.target.style.backgroundColor = '#4caf50';
          }, 2000);
        }).catch(err => {
          console.error('Failed to copy text: ', err);
        });
      }

      function trackAnalytics(event, params) {
        if (typeof gtag !== 'undefined') {
          gtag('event', event, {
            ...params,
            items: [{
              item_name: 'Donation',
              item_category: 'Fundraising',
              price: state.currentDonation.amount,
              quantity: 1
            }]
          });
        }
      }
    });
  </script>
</body>
</html>